<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HK School Interview Practice - School Information</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 主布局样式 */
        .content-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* 两栏布局 */
        .two-column-layout {
            display: flex;
            gap: 30px;
            margin-top: 20px;
        }
        
        /* 左侧栏 - 学校信息 */
        .left-column {
            flex: 1;
            min-width: 0;
        }
        
        .left-column.collapsed {
            display: none;
        }
        
        .school-info-toggle {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            transition: all 0.3s ease;
        }
        
        .school-info-toggle:hover {
            background: linear-gradient(135deg, #2980b9, #1c6ea4);
            transform: translateY(-2px);
        }
        
        /* 右侧栏 - 面试题目 */
        .right-column {
            flex: 1;
            min-width: 0;
        }
        
        @media (max-width: 992px) {
            .two-column-layout {
                flex-direction: column;
            }
            
            .left-column, .right-column {
                width: 100%;
            }
        }
        
        /* 学校卡片样式 */
        .school-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .school-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            border-top: 4px solid #3498db;
        }
        
        .school-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }
        
        .school-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .school-card-header h3 {
            font-size: 1.2rem;
            color: #2c3e50;
            margin: 0;
            flex: 1;
        }
        
        .banding-badge {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
            white-space: nowrap;
        }
        
        .banding-1a {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }
        
        .banding-1b {
            background: linear-gradient(135deg, #e67e22, #d35400);
        }
        
        .banding-1c {
            background: linear-gradient(135deg, #f1c40f, #f39c12);
            color: #333;
        }
        
        .school-card-body {
            margin-bottom: 15px;
        }
        
        .school-card-body p {
            margin-bottom: 8px;
            font-size: 0.95rem;
            line-height: 1.4;
        }
        
        .view-details-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            transition: background 0.3s;
        }
        
        .view-details-btn:hover {
            background: linear-gradient(135deg, #2980b9, #1c6ea4);
        }
        
        /* 学校详情样式 */
        .school-detail-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        
        .school-detail-header {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        .school-detail-header h2 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .school-detail-header h3 {
            color: #3498db;
            margin-bottom: 15px;
        }
        
        .school-motto {
            font-style: italic;
            color: #7f8c8d;
            margin: 10px 0;
            padding-left: 20px;
            border-left: 3px solid #3498db;
        }
        
        .chinese-motto {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .school-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .info-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .info-section {
            margin: 25px 0;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        
        .info-section:last-child {
            border-bottom: none;
        }
        
        .info-section h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* 面试题目样式 - 按年份分组 */
        .interview-questions-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            height: 100%;
            position: sticky;
            top: 20px;
        }
        
        .interview-header {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .interview-header h2 {
            color: #2c3e50;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .year-section {
            margin-bottom: 35px;
            background: #f8f9fa;
            border-radius: 10px;
            overflow: hidden;
            border-left: 4px solid #3498db;
        }
        
        .year-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .year-header h3 {
            margin: 0;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .year-months {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .year-content {
            padding: 25px;
        }
        
        .question-category {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .question-category:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .category-title {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid;
        }
        
        .category-title.chinese {
            color: #e74c3c;
            border-bottom-color: #e74c3c;
        }
        
        .category-title.math {
            color: #3498db;
            border-bottom-color: #3498db;
        }
        
        .category-title.english-individual {
            color: #2ecc71;
            border-bottom-color: #2ecc71;
        }
        
        .category-title.english-group {
            color: #9b59b6;
            border-bottom-color: #9b59b6;
        }
        
        .category-title.chinese-group {
            color: #e67e22;
            border-bottom-color: #e67e22;
        }
        
        .category-icon {
            font-size: 1.1rem;
        }
        
        .question-list {
            padding-left: 0;
            margin: 0;
        }
        
        .question-item {
            margin-bottom: 12px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .question-item.chinese {
            border-left-color: #e74c3c;
        }
        
        .question-item.math {
            border-left-color: #3498db;
        }
        
        .question-item.english-individual {
            border-left-color: #2ecc71;
        }
        
        .question-item.english-group {
            border-left-color: #9b59b6;
        }
        
        .question-item.chinese-group {
            border-left-color: #e67e22;
        }
        
        .question-item.done {
            opacity: 0.6;
            background: #f0f9f0;
        }
        
        .question-item.hidden {
            display: none;
        }
        
        .question-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 15px;
        }
        
        .question-text {
            flex: 1;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .question-tags {
            display: flex;
            gap: 5px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .question-tag {
            background: #e0e0e0;
            color: #555;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .question-actions {
            display: flex;
            gap: 10px;
            flex-shrink: 0;
        }
        
        .show-answer-btn, .done-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .show-answer-btn {
            background: #3498db;
            color: white;
        }
        
        .show-answer-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .done-btn {
            background: #2ecc71;
            color: white;
        }
        
        .done-btn:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }
        
        .done-btn.done {
            background: #7f8c8d;
        }
        
        /* 答案模態框樣式 */
        .answer-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .answer-modal-overlay.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .answer-modal {
            background: white;
            border-radius: 12px;
            width: 100%;
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            animation: slideUp 0.3s ease;
        }
        
        .answer-modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border-radius: 12px 12px 0 0;
        }
        
        .answer-modal-header h4 {
            margin: 0;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .close-modal-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .close-modal-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }
        
        .answer-modal-body {
            padding: 25px;
        }
        
        .question-preview {
            background: #f8f9fa;
            padding: 18px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }
        
        .question-preview h5 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1rem;
        }
        
        .question-preview .question-text {
            font-size: 1.05rem;
            line-height: 1.5;
            color: #2c3e50;
            font-weight: 500;
        }
        
        .answer-section {
            margin-top: 25px;
        }
        
        .answer-section h5 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }
        
        .answer-content {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
        
        .answer-steps {
            margin: 0;
            padding-left: 20px;
        }
        
        .answer-steps li {
            margin-bottom: 10px;
            line-height: 1.5;
            font-size: 0.95rem;
        }
        
        .final-answer {
            background: #e8f5e9;
            padding: 18px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #2ecc71;
        }
        
        .final-answer h6 {
            margin: 0 0 10px 0;
            color: #27ae60;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .answer-text {
            font-size: 1.05rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .answer-tips {
            background: #fff8e1;
            padding: 18px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #f1c40f;
        }
        
        .answer-tips h6 {
            margin: 0 0 10px 0;
            color: #f39c12;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .answer-tips ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .answer-tips li {
            margin-bottom: 8px;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .answer-modal-footer {
            padding: 20px 25px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            border-radius: 0 0 12px 12px;
        }
        
        .mark-done-btn {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .mark-done-btn:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }
        
        .mark-done-btn.done {
            background: #7f8c8d;
        }
        
        .next-question-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .next-question-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        /* 問題統計樣式 */
        .questions-stats {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .stats-item {
            text-align: center;
            flex: 1;
        }
        
        .stats-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .stats-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* 重置按鈕 */
        .reset-done-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-left: 15px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .reset-done-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        /* 年份導航 */
        .year-navigation {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .year-nav-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
            background: #7f8c8d;
            color: white;
        }
        
        .year-nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .year-nav-btn.active {
            background: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        /* 動畫效果 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .no-questions {
            text-align: center;
            padding: 30px;
            color: #7f8c8d;
            background: white;
            border-radius: 8px;
            border: 2px dashed #ddd;
        }
        
        /* 面试倒计时 */
        .interview-countdown {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
        }
        
        .interview-countdown h5 {
            margin: 0 0 10px 0;
            font-size: 1rem;
        }
        
        .countdown-days {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .countdown-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .interview-date-display {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 12px;
            border-radius: 6px;
            display: inline-block;
        }
        
        /* 面试百分比信息 */
        .interview-percentage-info {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
        }
        
        .interview-percentage-info h5 {
            margin: 0 0 10px 0;
            font-size: 1rem;
        }
        
        .percentage-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .percentage-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .chinese-weight-info {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
        }
        
        .chinese-weight-info h5 {
            margin: 0 0 10px 0;
            font-size: 1rem;
        }
        
        .chinese-weight-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .chinese-weight-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* 过滤器和返回按钮 */
        .filters {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .filter-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            font-size: 1rem;
            color: #2c3e50;
            transition: border-color 0.3s;
        }
        
        .filter-group select:focus {
            border-color: #3498db;
            outline: none;
        }
        
        .back-btn {
            background: #7f8c8d;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .back-btn:hover {
            background: #6c7b7d;
        }
        
        /* 错误消息 */
        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #f5c6cb;
            margin: 20px 0;
        }
        
        /* 无结果消息 */
        .no-results {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
            grid-column: 1 / -1;
        }
        
        .no-results i {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        /* 加载动画 */
        .loading-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-graduation-cap"></i> HK Interview</h3>
            <button class="toggle-btn" id="sidebar-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li>
                    <a href="index.html">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                </li>
                <li>
                    <a href="subpage_school.html" class="active">
                        <i class="fas fa-school"></i>
                        <span>School Information</span>
                    </a>
                </li>
                <li>
                    <a href="subpage_fwskills_chi.html">
                        <i class="fas fa-star"></i>
                        <span>FW Skills 必備技巧</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="main-header">
            <h1 class="page-title">
                <i class="fas fa-school"></i> 學校資訊及面試題目
            </h1>
            <p class="page-subtitle">香港中學面試準備 - 學校資料庫及歷年面試題目</p>
        </div>
        
        <div class="content-container">
            <!-- 学校列表视图 -->
            <div class="card" id="school-list-view">
                <h2><i class="fas fa-university"></i> 香港中學資訊資料庫</h2>
                <p>本頁面提供香港頂尖中學的詳細資料及歷年面試題目，協助學生準備入學面試。</p>
                
                <!-- 筛选器 -->
                <div class="filters">
                    <div class="filter-group">
                        <label for="banding-filter">按組別篩選:</label>
                        <select id="banding-filter" onchange="filterSchools()">
                            <option value="">所有組別</option>
                            <option value="1A">Band 1A</option>
                            <option value="1B">Band 1B</option>
                            <option value="1C">Band 1C</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="district-filter">按地區篩選:</label>
                        <select id="district-filter" onchange="filterSchools()">
                            <option value="">所有地區</option>
                            <!-- 地区选项将由JavaScript动态生成 -->
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="type-filter">按學校類型篩選:</label>
                        <select id="type-filter" onchange="filterSchools()">
                            <option value="">所有類型</option>
                            <option value="直資">直資學校</option>
                            <option value="資助">資助學校</option>
                        </select>
                    </div>
                </div>
                
                <!-- 学校列表 -->
                <div id="school-list" class="school-grid">
                    <!-- 学校卡片将由JavaScript加载 -->
                    <div class="loading-spinner" id="loading-spinner">
                        <div class="spinner"></div>
                    </div>
                </div>
                
                <!-- 无结果消息 -->
                <div id="no-schools-message" class="no-results" style="display: none;">
                    <i class="fas fa-search"></i>
                    <h3>沒有找到符合條件的學校</h3>
                    <p>請嘗試調整篩選條件</p>
                </div>
            </div>
            
            <!-- 学校详情视图 -->
            <div class="card" id="school-detail-view" style="display: none;">
                <button class="back-btn" onclick="showSchoolList()">
                    <i class="fas fa-arrow-left"></i> 返回學校列表
                </button>
                
                <div class="two-column-layout">
                    <!-- 左侧栏 - 学校信息 -->
                    <div class="left-column" id="school-info-column">
                        <button class="school-info-toggle" id="toggle-school-info">
                            <i class="fas fa-eye-slash"></i> 隱藏學校資訊
                        </button>
                        
                        <div class="school-detail-card" id="school-info-content">
                            <!-- 学校信息内容将由JavaScript加载 -->
                        </div>
                    </div>
                    
                    <!-- 右侧栏 - 面试题目 -->
                    <div class="right-column">
                        <div class="interview-questions-card" id="interview-questions-content">
                            <!-- 面试题目内容将由JavaScript加载 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 答案模態框 -->
        <div class="answer-modal-overlay" id="answer-modal-overlay">
            <div class="answer-modal" id="answer-modal">
                <!-- 模態框內容將由JavaScript動態生成 -->
            </div>
        </div>
    </main>

    <script>
        let schoolsData = [];
        let filteredSchools = [];
        let currentSchool = null;
        let doneQuestions = new Set(); // 存储已完成问题的ID
        let currentQuestionId = null; // 当前显示答案的问题ID
        let questionAnswers = {}; // 存储问题答案的映射
        
        // 学校JSON文件列表
        const schoolFiles = [
            'school/school_hong_kong_federation_of_youth_groups_lee_shau_kee_college.json',
            'school/school_ying_wa_college.json',
            'school/school_st_pauls_co_educational_college.json',
            'school/school_po_leung_kuk_tang_yuk_tien_college.json',
            'school/school_christian_alliance_s_c_chan_memorial_college.json',
            'school/school_hkbu_affiliated_school_wong_kam_fai_secondary_and_primary_school.json'
        ];
        
        // 类别配置
        const categoryConfig = {
            '中文個人': {
                name: '中文個人',
                cssClass: 'chinese',
                icon: 'fas fa-language',
                color: '#e74c3c'
            },
            '中文小組': {
                name: '中文小組',
                cssClass: 'chinese-group',
                icon: 'fas fa-users',
                color: '#e67e22'
            },
            '數學': {
                name: '數學',
                cssClass: 'math',
                icon: 'fas fa-calculator',
                color: '#3498db'
            },
            '英文個人': {
                name: '英文個人',
                cssClass: 'english-individual',
                icon: 'fas fa-user',
                color: '#2ecc71'
            },
            '英文小組': {
                name: '英文小組',
                cssClass: 'english-group',
                icon: 'fas fa-users',
                color: '#9b59b6'
            }
        };
        
        // 参考答案数据库
        const answerDatabase = {
            // 中文個人問題答案
            "朗讀文章（普通話）：文章關於作者小時候在後院看星星。": {
                answer: "這是一道朗讀題，沒有標準答案。重點在於：1) 發音準確清晰 2) 語調自然流暢 3) 適當停頓 4) 表達情感。準備建議：平時多練習普通話朗讀，注意聲調和語速。",
                tips: [
                    "朗讀前先快速瀏覽全文，了解內容",
                    "注意標點符號的停頓",
                    "遇到不認識的字可以根據上下文猜讀",
                    "保持自信，語速適中"
                ]
            },
            "用廣東話講一則近期特別/深刻的新聞。": {
                answer: "這是一道時事題，需要學生關注新聞。建議回答結構：1) 簡述新聞事件 2) 說明為什麼這則新聞特別/深刻 3) 表達個人看法。示例：近期香港舉辦的科技展覽，展示了人工智能的最新應用，顯示香港在科技發展方面的進步。",
                tips: [
                    "選擇自己熟悉且有意義的新聞",
                    "準備2-3則不同類型的新聞備用",
                    "簡明扼要，重點突出",
                    "表達個人觀點和思考"
                ]
            },
            "說出5個有「千」字的成語。": {
                answer: "1) 千軍萬馬 2) 千載難逢 3) 千辛萬苦 4) 千言萬語 5) 千變萬化",
                tips: [
                    "可以從數字相關的成語入手",
                    "平時多積累成語",
                    "解釋成語意思會加分",
                    "可以適當造句展示理解"
                ]
            },
            "你和家人最難忘的經歷是什麼？(限時1分鐘）": {
                answer: "這是一道個人經歷題。回答結構：1) 簡述經歷 2) 說明為什麼難忘 3) 分享感受和收穫。示例：去年全家去日本旅行，在迪士尼樂園為妹妹慶祝生日，看到她開心的笑容，讓我感受到家庭的溫暖，這是我最難忘的經歷。",
                tips: [
                    "選擇真實感人的經歷",
                    "具體描述細節",
                    "表達真情實感",
                    "說明從中學到什麼"
                ]
            },
            "請在十秒內說出三個含有「心」的成語。": {
                answer: "1) 心想事成 2) 心滿意足 3) 心花怒放 4) 心平氣和 5) 心驚膽戰",
                tips: [
                    "快速反應，不要猶豫",
                    "可以先說最熟悉的",
                    "保持冷靜，不要緊張",
                    "如果時間允許可以多說幾個"
                ]
            },
            "你有什麼興趣或嗜好？為什麼會喜歡它們？": {
                answer: "這是一道興趣愛好題。回答結構：1) 說明興趣是什麼 2) 解釋喜歡的原因 3) 分享從中獲得的好處。示例：我喜歡閱讀，特別是科幻小說，因為它能激發我的想像力，讓我看到不同的世界和可能性。",
                tips: [
                    "選擇有意義的興趣",
                    "展示熱情和投入",
                    "說明興趣如何幫助成長",
                    "可以提到相關的成就"
                ]
            },
            
            // 數學問題答案
            "1) 1.5×0.4+2.8= ? #小數混合運算": {
                steps: [
                    "先計算乘法：1.5 × 0.4 = 0.6",
                    "再計算加法：0.6 + 2.8 = 3.4"
                ],
                answer: "3.4",
                tips: [
                    "記住運算順序：先乘除後加減",
                    "小數乘法要注意小數點的位置",
                    "計算完後可以驗算一次"
                ]
            },
            "2) 3/4+1/8= ? #分數加法": {
                steps: [
                    "先通分：3/4 = 6/8",
                    "再相加：6/8 + 1/8 = 7/8"
                ],
                answer: "7/8",
                tips: [
                    "分數相加要先通分",
                    "分母相同時，分子相加，分母不變",
                    "結果要化為最簡分數"
                ]
            },
            "3) 0.9÷3×100=? #小數四則運算": {
                steps: [
                    "先計算除法：0.9 ÷ 3 = 0.3",
                    "再計算乘法：0.3 × 100 = 30"
                ],
                answer: "30",
                tips: [
                    "按順序從左到右計算",
                    "小數除法要注意小數點移動",
                    "乘以100等於小數點向右移動兩位"
                ]
            },
            "4) 4/5−1/10=? #分數減法": {
                steps: [
                    "先通分：4/5 = 8/10",
                    "再相減：8/10 - 1/10 = 7/10"
                ],
                answer: "7/10",
                tips: [
                    "分數相減要先通分",
                    "分母相同時，分子相減，分母不變",
                    "結果要化為最簡分數"
                ]
            },
            "5) 12.5×8= #小數乘法": {
                steps: [
                    "12.5 × 8 = 100"
                ],
                answer: "100",
                tips: [
                    "記住12.5×8=100這個常用結果",
                    "小數乘法可以先當作整數計算，再點小數點"
                ]
            },
            "6) 90 的 40% 是多少? #百分數計算": {
                steps: [
                    "90 × 40% = 90 × 0.4",
                    "90 × 0.4 = 36"
                ],
                answer: "36",
                tips: [
                    "百分數轉換為小數：40% = 0.4",
                    "求某數的百分之幾用乘法"
                ]
            },
            "7) 某物品原價 300 元，現以八折出售，售價是多少元？ #百分數應用": {
                steps: [
                    "八折 = 80% = 0.8",
                    "售價 = 300 × 0.8 = 240元"
                ],
                answer: "240元",
                tips: [
                    "折扣計算：原價 × 折扣率 = 售價",
                    "八折 = 80%，九折 = 90%，以此類推"
                ]
            },
            "8) 某班有 30 人，其中 10% 戴眼鏡，有多少人戴眼鏡？ #百分數應用": {
                steps: [
                    "30 × 10% = 30 × 0.1",
                    "30 × 0.1 = 3人"
                ],
                answer: "3人",
                tips: [
                    "百分數應用要理解題意",
                    "10% = 0.1",
                    "結果要注意單位"
                ]
            },
            "9) 一部玩具原價 500 元，現以七五折出售，可節省多少元？ #百分數應用": {
                steps: [
                    "七五折 = 75% = 0.75",
                    "售價 = 500 × 0.75 = 375元",
                    "節省 = 500 - 375 = 125元"
                ],
                answer: "125元",
                tips: [
                    "先計算售價，再計算節省金額",
                    "七五折 = 75%",
                    "注意題目問的是節省多少"
                ]
            },
            "10) 2X+5=17，求 X。 #簡單方程": {
                steps: [
                    "2X + 5 = 17",
                    "2X = 17 - 5",
                    "2X = 12",
                    "X = 12 ÷ 2",
                    "X = 6"
                ],
                answer: "X = 6",
                tips: [
                    "方程求解步驟：移項、合併、係數化1",
                    "注意運算符號的變化",
                    "驗算：2×6+5=17 ✓"
                ]
            },
            "13) 找出數列的下一個數字：3,6,10,15,21,? #找規律": {
                steps: [
                    "觀察數列差：6-3=3, 10-6=4, 15-10=5, 21-15=6",
                    "差依次為3,4,5,6，是遞增1的數列",
                    "下一個差應該是7",
                    "21 + 7 = 28"
                ],
                answer: "28",
                tips: [
                    "找規律題要觀察相鄰數字的關係",
                    "常見規律：等差、等比、平方數等",
                    "可以計算相鄰數的差或比"
                ]
            },
            
            // 英文個人問題答案
            "自我介紹 (Self-introduction)": {
                answer: "Good morning/afternoon. My name is [Your Name]. I'm [Age] years old and I study at [Primary School Name]. I enjoy [Hobby 1] and [Hobby 2]. My favorite subject is [Subject] because [Reason]. I'm excited about the opportunity to study at your school because [Reason].",
                tips: [
                    "保持簡潔，1-2分鐘為宜",
                    "包含：姓名、年齡、學校、興趣、特長",
                    "表達對該學校的興趣",
                    "練習流暢度，不要背誦"
                ]
            },
            "在我們學校你想學習哪個科目？為甚麼？": {
                answer: "I'm particularly interested in [Subject] because I enjoy [Reason]. I believe your school has excellent facilities/teachers for this subject, and I look forward to exploring it further.",
                tips: [
                    "選擇與自己興趣相符的科目",
                    "了解學校該科目的特色",
                    "表達具體的學習目標",
                    "展示熱情和求知慾"
                ]
            },
            "為甚麼你想入讀我們學校？": {
                answer: "I want to study at your school because of its excellent academic reputation, diverse extracurricular activities, and supportive learning environment. I'm particularly impressed by [Specific Feature] and believe it will help me achieve my goals.",
                tips: [
                    "提前了解學校特色",
                    "提及具體的課程或活動",
                    "表達與學校理念的契合",
                    "展示真誠的入讀意願"
                ]
            },
            "What is your daily study routine?": {
                answer: "I usually start my homework at 4 PM after school. I spend about 1 hour on each major subject, with short breaks in between. Before tests, I create revision schedules and focus on challenging topics. I also make time for reading and review each day.",
                tips: [
                    "展示有條理的學習習慣",
                    "提及時間管理和計劃",
                    "說明如何平衡學習與休息",
                    "展示自律和責任感"
                ]
            },
            
            // 英文小組問題答案
            "在你心目中，理想的中学是怎樣的？": {
                answer: "In my opinion, an ideal secondary school should have: 1) Caring teachers who inspire students 2) A balanced curriculum with both academic and extracurricular activities 3) A supportive and inclusive environment 4) Modern facilities for learning and development.",
                tips: [
                    "從多個角度思考",
                    "表達個人價值觀",
                    "與該學校的特點聯繫",
                    "展示批判性思維"
                ]
            },
            "你認為我們學校符合你的期望嗎？": {
                answer: "Yes, I believe your school meets my expectations because [Reason 1], [Reason 2], and [Reason 3]. For example, your school's emphasis on [Specific Feature] aligns with what I value in education.",
                tips: [
                    "提前研究學校特色",
                    "具體說明哪些方面符合期望",
                    "表達欣賞和認同",
                    "展示深入了解"
                ]
            },
            "為甚麼年輕人不喜歡吃水果？": {
                answer: "There could be several reasons: 1) Busy lifestyles leading to convenience food choices 2) Lack of knowledge about nutritional benefits 3) Preference for sweeter processed snacks 4) Limited access to fresh fruits. Schools and families can encourage fruit consumption through education and accessibility.",
                tips: [
                    "從多個角度分析問題",
                    "提出建設性建議",
                    "展示邏輯思維",
                    "考慮社會和個人因素"
                ]
            }
        };
        
        // 加载学校数据
        async function loadSchoolsData() {
            try {
                schoolsData = [];
                
                // 显示加载动画
                const loadingSpinner = document.getElementById('loading-spinner');
                loadingSpinner.style.display = 'flex';
                
                // 并行加载所有学校文件
                const promises = schoolFiles.map(file => 
                    fetch(file)
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(`HTTP错误! 状态码: ${response.status} for ${file}`);
                            }
                            return response.json();
                        })
                        .catch(error => {
                            console.error(`加载学校文件 ${file} 时出错:`, error);
                            return null;
                        })
                );
                
                const loadedSchools = await Promise.all(promises);
                
                // 隐藏加载动画
                loadingSpinner.style.display = 'none';
                
                // 过滤掉加载失败的数据
                schoolsData = loadedSchools.filter(school => school !== null);
                
                if (schoolsData.length === 0) {
                    throw new Error('没有成功加载任何学校数据');
                }
                
                filteredSchools = [...schoolsData];
                
                // 按ID排序学校
                schoolsData.sort((a, b) => a.id - b.id);
                filteredSchools.sort((a, b) => a.id - b.id);
                
                // 初始化筛选器选项
                initializeFilters();
                
                // 显示学校列表
                displaySchoolList();
            } catch (error) {
                console.error('加载学校数据时出错:', error);
                document.getElementById('loading-spinner').style.display = 'none';
                document.getElementById('school-list').innerHTML = 
                    '<div class="error-message">無法加載學校資訊，請檢查網絡連接或文件路徑。</div>';
            }
        }
        
        // 初始化筛选器选项
        function initializeFilters() {
            const districtFilter = document.getElementById('district-filter');
            const districts = new Set();
            
            schoolsData.forEach(school => {
                if (school.district) {
                    districts.add(school.district);
                }
            });
            
            // 按字母顺序排序地区
            const sortedDistricts = Array.from(districts).sort();
            
            // 清空现有选项
            districtFilter.innerHTML = '<option value="">所有地區</option>';
            
            sortedDistricts.forEach(district => {
                const option = document.createElement('option');
                option.value = district;
                option.textContent = district;
                districtFilter.appendChild(option);
            });
        }
        
        // 筛选学校
        function filterSchools() {
            const bandingFilter = document.getElementById('banding-filter').value;
            const districtFilter = document.getElementById('district-filter').value;
            const typeFilter = document.getElementById('type-filter').value;
            
            filteredSchools = schoolsData.filter(school => {
                let matches = true;
                
                if (bandingFilter && school.banding && !school.banding.includes(bandingFilter)) {
                    matches = false;
                }
                
                if (districtFilter && school.district && school.district !== districtFilter) {
                    matches = false;
                }
                
                if (typeFilter && school.type && !school.type.includes(typeFilter)) {
                    matches = false;
                }
                
                return matches;
            });
            
            displaySchoolList();
        }
        
        // 显示学校列表
        function displaySchoolList() {
            const schoolList = document.getElementById('school-list');
            const noSchoolsMessage = document.getElementById('no-schools-message');
            
            schoolList.innerHTML = '';
            
            if (filteredSchools.length === 0) {
                noSchoolsMessage.style.display = 'block';
                schoolList.style.display = 'none';
                return;
            }
            
            noSchoolsMessage.style.display = 'none';
            schoolList.style.display = 'grid';
            
            filteredSchools.forEach(school => {
                const schoolCard = document.createElement('div');
                schoolCard.className = 'school-card';
                schoolCard.innerHTML = `
                    <div class="school-card-header">
                        <h3>${escapeHtml(school.name)}</h3>
                        ${school.banding ? `<span class="banding-badge ${getBandingClass(school.banding)}">${escapeHtml(school.banding)}</span>` : ''}
                    </div>
                    <div class="school-card-body">
                        ${school.chineseName ? `<p><strong>中文名稱:</strong> ${escapeHtml(school.chineseName)}</p>` : ''}
                        ${school.type ? `<p><strong>學校類型:</strong> ${escapeHtml(school.type)}</p>` : ''}
                        ${school.district ? `<p><strong>地區:</strong> ${escapeHtml(school.district)}</p>` : ''}
                        ${school.language ? `<p><strong>教學語言:</strong> ${escapeHtml(school.language)}</p>` : ''}
                        ${school.mission ? `<p><strong>辦學宗旨:</strong> ${escapeHtml(truncateText(school.mission, 50))}</p>` : ''}
                        ${school.interviewPercentage ? `
                            <div class="interview-percentage-info" style="margin: 15px 0; padding: 10px; border-radius: 6px; background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; text-align: center;">
                                <h5 style="margin: 0 0 5px 0; font-size: 0.9rem;">面試比重</h5>
                                <div style="font-size: 1.2rem; font-weight: bold; margin: 5px 0;">${getInterviewPercentageValue(school.interviewPercentage)}</div>
                            </div>
                        ` : ''}
                        ${school.targetInterviewDate ? `
                            <div class="interview-countdown" style="margin: 15px 0; padding: 10px; border-radius: 6px; background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; text-align: center;">
                                <h5 style="margin: 0 0 5px 0; font-size: 0.9rem;">面試倒計時</h5>
                                <div style="font-size: 0.9rem; margin-bottom: 5px;">${formatDateChinese(school.targetInterviewDate)}</div>
                                <div style="font-size: 1.5rem; font-weight: bold; margin: 5px 0;">${calculateDaysRemaining(school.targetInterviewDate)}</div>
                                <div style="font-size: 0.8rem; opacity: 0.8;">天數</div>
                            </div>
                        ` : ''}
                    </div>
                    <button class="view-details-btn" onclick="viewSchoolDetails(${school.id})">
                        <i class="fas fa-eye"></i> 查看詳情及面試題目
                    </button>
                `;
                schoolList.appendChild(schoolCard);
            });
        }
        
        // 查看学校详情
        function viewSchoolDetails(schoolId) {
            currentSchool = schoolsData.find(s => s.id === schoolId);
            if (!currentSchool) return;
            
            // 加载已完成的题目
            loadDoneQuestions();
            
            document.getElementById('school-list-view').style.display = 'none';
            document.getElementById('school-detail-view').style.display = 'block';
            
            // 加载学校信息
            loadSchoolInfo();
            
            // 加载面试题目
            loadInterviewQuestions();
        }
        
        // 加载学校信息
        function loadSchoolInfo() {
            const schoolInfoContent = document.getElementById('school-info-content');
            
            let infoHTML = `
                <div class="school-detail-header">
                    <h2>${escapeHtml(currentSchool.name)} ${currentSchool.banding ? `<span class="banding-badge ${getBandingClass(currentSchool.banding)}">${escapeHtml(currentSchool.banding)}</span>` : ''}</h2>
                    ${currentSchool.chineseName ? `<h3>${escapeHtml(currentSchool.chineseName)}</h3>` : ''}
                    ${currentSchool.schoolMotto ? `<p class="school-motto"><i class="fas fa-quote-left"></i> ${escapeHtml(currentSchool.schoolMotto)} <i class="fas fa-quote-right"></i></p>` : ''}
                    ${currentSchool.chineseMotto ? `<p class="chinese-motto">${escapeHtml(currentSchool.chineseMotto)}</p>` : ''}
                </div>
                
                <div class="school-info-grid">
                    ${currentSchool.type ? `<div class="info-item"><strong>學校類型:</strong> ${escapeHtml(currentSchool.type)}</div>` : ''}
                    ${currentSchool.religion ? `<div class="info-item"><strong>宗教背景:</strong> ${escapeHtml(currentSchool.religion)}</div>` : ''}
                    ${currentSchool.gender ? `<div class="info-item"><strong>性別:</strong> ${escapeHtml(currentSchool.gender)}</div>` : ''}
                    ${currentSchool.district ? `<div class="info-item"><strong>地區:</strong> ${escapeHtml(currentSchool.district)}</div>` : ''}
                    ${currentSchool.language ? `<div class="info-item"><strong>教學語言:</strong> ${escapeHtml(currentSchool.language)}</div>` : ''}
                    ${currentSchool.established ? `<div class="info-item"><strong>創校年份:</strong> ${escapeHtml(currentSchool.established)}</div>` : ''}
                </div>
            `;
            
            if (currentSchool.mission) {
                infoHTML += `
                    <div class="info-section">
                        <h4><i class="fas fa-bullseye"></i> 辦學宗旨 (Mission)</h4>
                        <p>${escapeHtml(currentSchool.mission)}</p>
                    </div>
                `;
            }
            
            if (currentSchool.interviewFeatures) {
                infoHTML += `
                    <div class="info-section">
                        <h4><i class="fas fa-comments"></i> 面試特色 (Interview Features)</h4>
                        <p>${escapeHtml(currentSchool.interviewFeatures)}</p>
                    </div>
                `;
            }
            
            if (currentSchool.interviewPercentage) {
                infoHTML += `
                    <div class="info-section">
                        <h4><i class="fas fa-chart-pie"></i> 收生評分比重 (Admission Scoring Weight)</h4>
                        <div class="interview-percentage-info">
                            <h5>面試比重</h5>
                            <div class="percentage-value">${getInterviewPercentageValue(currentSchool.interviewPercentage)}</div>
                            <div class="percentage-label">${escapeHtml(getInterviewPercentageLabel(currentSchool.interviewPercentage))}</div>
                        </div>
                    </div>
                `;
            }
            
            if (currentSchool.specialty) {
                infoHTML += `
                    <div class="info-section">
                        <h4><i class="fas fa-star"></i> 學校特色 (Specialties)</h4>
                        <p>${escapeHtml(currentSchool.specialty)}</p>
                    </div>
                `;
            }
            
            if (currentSchool.specificFeatures) {
                infoHTML += `
                    <div class="info-section">
                        <h4><i class="fas fa-info-circle"></i> 特別設施/計劃 (Specific Features)</h4>
                        <p>${escapeHtml(currentSchool.specificFeatures)}</p>
                    </div>
                `;
            }
            
            infoHTML += `
                <div class="info-section">
                    <h4><i class="fas fa-info-circle"></i> 學校詳細資料 (School Details)</h4>
                    ${currentSchool.studentCount !== undefined ? `<p><strong>學生人數:</strong> ${escapeHtml(currentSchool.studentCount)}</p>` : ''}
                    ${currentSchool.admissionProcess ? `<p><strong>收生程序:</strong> ${escapeHtml(currentSchool.admissionProcess)}</p>` : ''}
                    ${currentSchool.tuitionFee ? `<p><strong>學費:</strong> ${escapeHtml(currentSchool.tuitionFee)}</p>` : ''}
                    ${currentSchool.image ? `<p><strong>學校標誌:</strong> ${escapeHtml(currentSchool.image)}</p>` : ''}
                </div>
            `;
            
            if (currentSchool.targetInterviewDate) {
                infoHTML += `
                    <div class="info-section">
                        <h4><i class="fas fa-calendar-alt"></i> 目標面試日期 (Target Interview Date)</h4>
                        <p><strong>日期:</strong> ${formatDateChinese(currentSchool.targetInterviewDate)}</p>
                        <div class="interview-countdown">
                            <h5>面試倒計時</h5>
                            <div class="interview-date-display">${formatDateChinese(currentSchool.targetInterviewDate)}</div>
                            <div class="countdown-days">${calculateDaysRemaining(currentSchool.targetInterviewDate)}</div>
                            <div class="countdown-label">天數</div>
                        </div>
                    </div>
                `;
            }
            
            if (currentSchool.website || currentSchool.phone) {
                infoHTML += `
                    <div class="info-section">
                        <h4><i class="fas fa-globe"></i> 聯絡資料 (Contact Information)</h4>
                        ${currentSchool.phone ? `<p><strong>電話:</strong> ${escapeHtml(currentSchool.phone)}</p>` : ''}
                        ${currentSchool.website ? `<p><strong>網址:</strong> <a href="${escapeHtml(currentSchool.website)}" target="_blank">${escapeHtml(currentSchool.website)}</a></p>` : ''}
                    </div>
                `;
            }
            
            schoolInfoContent.innerHTML = infoHTML;
        }
        
        // 加载面试题目 - 按年份分组
        function loadInterviewQuestions() {
            const questionsContent = document.getElementById('interview-questions-content');
            
            // 生成面试题目HTML
            let interviewQuestionsHTML = '';
            
            if (currentSchool.previousInterviewQuestions && Object.keys(currentSchool.previousInterviewQuestions).length > 0) {
                interviewQuestionsHTML = generateInterviewQuestionsHTML(currentSchool.previousInterviewQuestions);
            } else {
                interviewQuestionsHTML = `
                    <div class="interview-header">
                        <h2><i class="fas fa-history"></i> 歷年面試題目</h2>
                    </div>
                    <div class="no-questions">
                        <i class="fas fa-file-alt" style="font-size: 3rem; margin-bottom: 20px; color: #bdc3c7;"></i>
                        <h4>暫無面試題目資料</h4>
                        <p>目前尚未收集到此學校的歷年面試題目</p>
                    </div>
                `;
            }
            
            questionsContent.innerHTML = interviewQuestionsHTML;
            
            // 更新问题统计
            updateQuestionsStats();
            
            // 初始化已完成问题的状态
            initDoneQuestions();
            
            // 添加年份导航点击事件
            addYearNavigationEvents();
        }
        
        // 生成面试题目HTML - 按年份分组
        function generateInterviewQuestionsHTML(questionsData) {
            // 计算总问题数
            const totalQuestions = countTotalQuestions(questionsData);
            const doneCount = getDoneCount();
            
            // 按年份排序（从最新到最旧）
            const years = Object.keys(questionsData).sort((a, b) => b - a);
            
            // 生成HTML
            let html = `
                <div class="interview-header">
                    <h2><i class="fas fa-history"></i> 歷年面試題目</h2>
                </div>
                
                <!-- 问题统计 -->
                <div class="questions-stats">
                    <div class="stats-item">
                        <div class="stats-value">${totalQuestions}</div>
                        <div class="stats-label">總題目</div>
                    </div>
                    <div class="stats-item">
                        <div class="stats-value">${doneCount}</div>
                        <div class="stats-label">已完成</div>
                    </div>
                    <div class="stats-item">
                        <div class="stats-value">${totalQuestions - doneCount}</div>
                        <div class="stats-label">未完成</div>
                    </div>
                </div>
                
                <!-- 重置按钮 -->
                <div style="text-align: center; margin-bottom: 20px;">
                    <button class="reset-done-btn" onclick="resetAllDoneQuestions()">
                        <i class="fas fa-redo"></i> 重置已完成題目
                    </button>
                </div>
                
                <!-- 年份导航 -->
                <div class="year-navigation" id="year-navigation">
            `;
            
            // 生成年份导航按钮
            years.forEach((year, index) => {
                const isActive = index === 0 ? 'active' : '';
                html += `
                    <button class="year-nav-btn ${isActive}" data-year="${year}">
                        <i class="fas fa-calendar"></i> ${year}年度
                    </button>
                `;
            });
            
            html += `</div>`;
            
            // 添加中文面試比重分析
            const chineseQuestionsCount = countChineseQuestions(questionsData);
            
            if (totalQuestions > 0) {
                const chinesePercentage = Math.round((chineseQuestionsCount / totalQuestions) * 100);
                html += `
                    <div class="chinese-weight-info" style="margin-bottom: 20px;">
                        <h5>中文面試題目比重分析</h5>
                        <div class="chinese-weight-value">${chinesePercentage}%</div>
                        <div class="chinese-weight-label">中文題目佔歷年面試題目總數</div>
                        <p style="font-size: 0.8rem; margin-top: 8px; opacity: 0.8;">(${chineseQuestionsCount}題中文 / ${totalQuestions}題總數)</p>
                    </div>
                `;
            }
            
            // 生成每个年份的HTML
            let questionIndex = 0;
            
            years.forEach((year, index) => {
                const yearData = questionsData[year];
                const isFirst = index === 0;
                const displayStyle = isFirst ? 'block' : 'none';
                
                html += `
                    <div class="year-section" data-year="${year}" style="display: ${displayStyle};">
                        <div class="year-header">
                            <h3><i class="fas fa-calendar-alt"></i> ${year} 年度面試題目</h3>
                            ${yearData.months && yearData.months.length > 0 ? `<span class="year-months">${yearData.months.join(', ')}月</span>` : ''}
                        </div>
                        <div class="year-content">
                `;
                
                if (yearData.questions && Object.keys(yearData.questions).length > 0) {
                    // 按类别顺序显示
                    const categoryOrder = ['中文個人', '中文小組', '數學', '英文個人', '英文小組'];
                    
                    for (const category of categoryOrder) {
                        if (yearData.questions[category] && yearData.questions[category].length > 0) {
                            const categoryInfo = categoryConfig[category] || { name: category, cssClass: 'default', icon: 'fas fa-question-circle' };
                            const questionCount = yearData.questions[category].length;
                            
                            html += `
                                <div class="question-category">
                                    <div class="category-title ${categoryInfo.cssClass}">
                                        <i class="${categoryInfo.icon} category-icon"></i> ${categoryInfo.name} (${questionCount}題)
                                    </div>
                                    <ul class="question-list">
                            `;
                            
                            for (const question of yearData.questions[category]) {
                                const questionId = `q-${currentSchool.id}-${year}-${category}-${questionIndex}`;
                                const isDone = doneQuestions.has(questionId);
                                const answerData = getAnswerForQuestion(question);
                                const tagMatch = question.match(/#(\S+)/);
                                const tag = tagMatch ? tagMatch[1] : null;
                                
                                html += `
                                    <li class="question-item ${categoryInfo.cssClass} ${isDone ? 'done' : ''} ${isDone ? 'hidden' : ''}" id="${questionId}">
                                        <div class="question-content">
                                            <div class="question-text">${escapeHtml(question)}</div>
                                            <div class="question-actions">
                                                <button class="show-answer-btn" onclick="showAnswerModal('${escapeHtml(questionId)}')">
                                                    <i class="fas fa-eye"></i> 查看答案
                                                </button>
                                                <button class="done-btn ${isDone ? 'done' : ''}" onclick="toggleDoneQuestion('${escapeHtml(questionId)}')">
                                                    ${isDone ? '<i class="fas fa-check"></i> 已標記' : '<i class="fas fa-check"></i> DONE'}
                                                </button>
                                            </div>
                                        </div>
                                        ${tag ? `<div class="question-tags"><span class="question-tag">${tag}</span></div>` : ''}
                                    </li>
                                `;
                                questionIndex++;
                            }
                            
                            html += `
                                    </ul>
                                </div>
                            `;
                        }
                    }
                } else {
                    html += `<div class="no-questions">此年度暫無面試題目資料</div>`;
                }
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            return html;
        }
        
        // 添加年份导航点击事件
        function addYearNavigationEvents() {
            const navButtons = document.querySelectorAll('.year-nav-btn');
            const yearSections = document.querySelectorAll('.year-section');
            
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const year = this.getAttribute('data-year');
                    
                    // 更新导航按钮状态
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 显示/隐藏对应的年份部分
                    yearSections.forEach(section => {
                        if (section.getAttribute('data-year') === year) {
                            section.style.display = 'block';
                        } else {
                            section.style.display = 'none';
                        }
                    });
                });
            });
        }
        
        // 显示答案模態框
        function showAnswerModal(questionId) {
            currentQuestionId = questionId;
            
            const questionElement = document.getElementById(questionId);
            if (!questionElement) return;
            
            // 获取问题文本
            const questionText = questionElement.querySelector('.question-text').textContent;
            
            // 获取答案数据
            const answerData = getAnswerForQuestion(questionText);
            
            // 生成模態框HTML
            let modalHTML = `
                <div class="answer-modal-header">
                    <h4><i class="fas fa-lightbulb"></i> 參考答案</h4>
                    <button class="close-modal-btn" onclick="closeAnswerModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="answer-modal-body">
                    <div class="question-preview">
                        <h5>題目：</h5>
                        <div class="question-text">${escapeHtml(questionText)}</div>
                    </div>
            `;
            
            if (answerData) {
                // 有答案数据的情况
                modalHTML += `
                    <div class="answer-section">
                        <h5><i class="fas fa-list-ol"></i> 解題步驟：</h5>
                        <div class="answer-content">
                `;
                
                if (answerData.steps && answerData.steps.length > 0) {
                    modalHTML += `<ol class="answer-steps">`;
                    answerData.steps.forEach(step => {
                        modalHTML += `<li>${escapeHtml(step)}</li>`;
                    });
                    modalHTML += `</ol>`;
                } else if (answerData.answer) {
                    modalHTML += `<p>${escapeHtml(answerData.answer)}</p>`;
                }
                
                modalHTML += `</div>`;
                
                if (answerData.answer) {
                    modalHTML += `
                        <div class="final-answer">
                            <h6><i class="fas fa-check-circle"></i> 最終答案：</h6>
                            <div class="answer-text">${escapeHtml(answerData.answer)}</div>
                        </div>
                    `;
                }
                
                if (answerData.tips && answerData.tips.length > 0) {
                    modalHTML += `
                        <div class="answer-tips">
                            <h6><i class="fas fa-lightbulb"></i> 答題技巧：</h6>
                            <ul>
                    `;
                    answerData.tips.forEach(tip => {
                        modalHTML += `<li>${escapeHtml(tip)}</li>`;
                    });
                    modalHTML += `</ul></div>`;
                }
            } else {
                // 没有答案数据的情况
                modalHTML += `
                    <div class="answer-section">
                        <h5><i class="fas fa-info-circle"></i> 參考回答：</h5>
                        <div class="answer-content">
                            <p>這是一道開放式問題，沒有標準答案。以下是一些回答建議：</p>
                            <ul class="answer-steps">
                                <li>理解題目要求，明確回答方向</li>
                                <li>組織清晰、有邏輯的回答結構</li>
                                <li>結合個人經歷或觀點進行說明</li>
                                <li>表達要自信、清晰、有說服力</li>
                                <li>保持禮貌和積極的態度</li>
                            </ul>
                        </div>
                        <div class="answer-tips">
                            <h6><i class="fas fa-lightbulb"></i> 面試技巧：</h6>
                            <ul>
                                <li>保持眼神交流，展示自信</li>
                                <li>語速適中，清晰表達</li>
                                <li>使用具體例子支持觀點</li>
                                <li>展現積極的學習態度和團隊精神</li>
                                <li>準備相關問題的延伸回答</li>
                            </ul>
                        </div>
                    </div>
                `;
            }
            
            modalHTML += `</div>`;
            
            // 获取问题是否已完成的状态
            const isDone = doneQuestions.has(questionId);
            const doneText = isDone ? '已標記' : '標記為已完成';
            const doneClass = isDone ? 'done' : '';
            
            modalHTML += `
                <div class="answer-modal-footer">
                    <button class="mark-done-btn ${doneClass}" onclick="toggleDoneQuestionFromModal('${escapeHtml(questionId)}')">
                        <i class="fas fa-check"></i> ${doneText}
                    </button>
                    <button class="next-question-btn" onclick="findNextQuestion('${escapeHtml(questionId)}')">
                        <i class="fas fa-arrow-right"></i> 下一題
                    </button>
                </div>
            `;
            
            // 更新模態框内容
            document.getElementById('answer-modal').innerHTML = modalHTML;
            
            // 显示模態框
            document.getElementById('answer-modal-overlay').classList.add('show');
            
            // 阻止背景滚动
            document.body.style.overflow = 'hidden';
        }
        
        // 关闭答案模態框
        function closeAnswerModal() {
            document.getElementById('answer-modal-overlay').classList.remove('show');
            document.body.style.overflow = '';
        }
        
        // 从模態框中标记问题完成
        function toggleDoneQuestionFromModal(questionId) {
            toggleDoneQuestion(questionId);
            
            // 更新模態框中的按钮状态
            const markDoneBtn = document.querySelector('.mark-done-btn');
            const isDone = doneQuestions.has(questionId);
            
            if (isDone) {
                markDoneBtn.classList.add('done');
                markDoneBtn.innerHTML = '<i class="fas fa-check"></i> 已標記';
            } else {
                markDoneBtn.classList.remove('done');
                markDoneBtn.innerHTML = '<i class="fas fa-check"></i> 標記為已完成';
            }
        }
        
        // 查找下一题
        function findNextQuestion(currentQuestionId) {
            const questionItems = document.querySelectorAll('.question-item:not(.hidden)');
            let found = false;
            let nextQuestionId = null;
            
            for (const item of questionItems) {
                if (found) {
                    nextQuestionId = item.id;
                    break;
                }
                if (item.id === currentQuestionId) {
                    found = true;
                }
            }
            
            if (nextQuestionId) {
                closeAnswerModal();
                showAnswerModal(nextQuestionId);
            } else {
                // 如果是最后一题，回到第一题
                if (questionItems.length > 0) {
                    closeAnswerModal();
                    showAnswerModal(questionItems[0].id);
                }
            }
        }
        
        // 切换问题完成状态
        function toggleDoneQuestion(questionId) {
            const questionElement = document.getElementById(questionId);
            
            if (doneQuestions.has(questionId)) {
                // 取消完成
                doneQuestions.delete(questionId);
                if (questionElement) {
                    questionElement.classList.remove('done');
                    questionElement.classList.remove('hidden');
                }
            } else {
                // 标记为完成
                doneQuestions.add(questionId);
                if (questionElement) {
                    questionElement.classList.add('done');
                    questionElement.classList.add('hidden');
                }
            }
            
            // 保存到localStorage
            saveDoneQuestions();
            
            // 更新统计
            updateQuestionsStats();
        }
        
        // 初始化已完成问题的状态
        function initDoneQuestions() {
            const questionItems = document.querySelectorAll('.question-item');
            questionItems.forEach(item => {
                const questionId = item.id;
                if (doneQuestions.has(questionId)) {
                    item.classList.add('done');
                    item.classList.add('hidden');
                }
            });
        }
        
        // 更新问题统计
        function updateQuestionsStats() {
            const totalQuestions = document.querySelectorAll('.question-item').length;
            const doneCount = getDoneCount();
            const undoneCount = totalQuestions - doneCount;
            
            // 更新统计显示
            const statsContainers = document.querySelectorAll('.stats-value');
            if (statsContainers.length >= 3) {
                statsContainers[0].textContent = totalQuestions;
                statsContainers[1].textContent = doneCount;
                statsContainers[2].textContent = undoneCount;
            }
        }
        
        // 获取已完成问题数量
        function getDoneCount() {
            return doneQuestions.size;
        }
        
        // 重置所有已完成的问题
        function resetAllDoneQuestions() {
            if (confirm('確定要重置所有已完成題目嗎？')) {
                doneQuestions.clear();
                localStorage.removeItem(`doneQuestions-${currentSchool.id}`);
                
                // 重新初始化问题状态
                initDoneQuestions();
                
                // 更新统计
                updateQuestionsStats();
                
                alert('已完成題目已重置！');
            }
        }
        
        // 保存已完成问题到localStorage
        function saveDoneQuestions() {
            if (currentSchool) {
                const doneQuestionsArray = Array.from(doneQuestions);
                localStorage.setItem(`doneQuestions-${currentSchool.id}`, JSON.stringify(doneQuestionsArray));
            }
        }
        
        // 从localStorage加载已完成问题
        function loadDoneQuestions() {
            if (currentSchool) {
                const savedDoneQuestions = localStorage.getItem(`doneQuestions-${currentSchool.id}`);
                if (savedDoneQuestions) {
                    try {
                        const doneQuestionsArray = JSON.parse(savedDoneQuestions);
                        doneQuestions = new Set(doneQuestionsArray);
                    } catch (error) {
                        console.error('加载已完成问题时出错:', error);
                        doneQuestions = new Set();
                    }
                } else {
                    doneQuestions = new Set();
                }
            }
        }
        
        // 获取问题的参考答案
        function getAnswerForQuestion(questionText) {
            // 从答案数据库中查找
            return answerDatabase[questionText] || null;
        }
        
        // 显示学校列表
        function showSchoolList() {
            document.getElementById('school-list-view').style.display = 'block';
            document.getElementById('school-detail-view').style.display = 'none';
        }
        
        // 切换学校信息显示/隐藏
        function toggleSchoolInfo() {
            const schoolInfoColumn = document.getElementById('school-info-column');
            const toggleButton = document.getElementById('toggle-school-info');
            
            if (schoolInfoColumn.classList.contains('collapsed')) {
                // 显示学校信息
                schoolInfoColumn.classList.remove('collapsed');
                toggleButton.innerHTML = '<i class="fas fa-eye-slash"></i> 隱藏學校資訊';
            } else {
                // 隐藏学校信息
                schoolInfoColumn.classList.add('collapsed');
                toggleButton.innerHTML = '<i class="fas fa-eye"></i> 顯示學校資訊';
            }
        }
        
        // 辅助函数
        function getBandingClass(banding) {
            if (!banding) return 'banding-1c';
            if (banding.includes('1A')) return 'banding-1a';
            if (banding.includes('1B')) return 'banding-1b';
            if (banding.includes('1C')) return 'banding-1c';
            return 'banding-1c';
        }
        
        // 获取面试百分比值
        function getInterviewPercentageValue(percentageString) {
            if (!percentageString) return 'N/A';
            const match = percentageString.match(/面試\s*:\s*(\d+)%/);
            return match ? `${match[1]}%` : 'N/A';
        }
        
        // 获取面试百分比标签
        function getInterviewPercentageLabel(percentageString) {
            if (!percentageString) return '';
            return percentageString.replace('面試:', '面試: ').replace(';', '; ');
        }
        
        // 统计中文题目数量
        function countChineseQuestions(questionsData) {
            let count = 0;
            for (const [year, data] of Object.entries(questionsData)) {
                if (data.questions) {
                    for (const [category, questions] of Object.entries(data.questions)) {
                        if (category.includes('中文')) {
                            count += questions.length;
                        }
                    }
                }
            }
            return count;
        }
        
        // 统计总题目数量
        function countTotalQuestions(questionsData) {
            let count = 0;
            for (const [year, data] of Object.entries(questionsData)) {
                if (data.questions) {
                    for (const [category, questions] of Object.entries(data.questions)) {
                        count += questions.length;
                    }
                }
            }
            return count;
        }
        
        // 格式化为YYYY年MM月DD日 (星期W)
        function formatDateChinese(dateString) {
            try {
                const date = new Date(dateString);
                if (isNaN(date.getTime())) {
                    return dateString; // 如果日期无效，返回原始字符串
                }
                
                const year = date.getFullYear();
                const month = (date.getMonth() + 1).toString().padStart(2, '0');
                const day = date.getDate().toString().padStart(2, '0');
                
                // 星期几的映射
                const weekdays = ['日', '一', '二', '三', '四', '五', '六'];
                const weekday = weekdays[date.getDay()];
                
                return `${year}年${month}月${day}日 (星期${weekday})`;
            } catch (error) {
                console.error('日期格式化错误:', error);
                return dateString;
            }
        }
        
        function calculateDaysRemaining(targetDateStr) {
            try {
                const targetDate = new Date(targetDateStr);
                const today = new Date();
                
                if (isNaN(targetDate.getTime())) {
                    return '日期无效';
                }
                
                today.setHours(0, 0, 0, 0);
                targetDate.setHours(0, 0, 0, 0);
                
                const diffTime = targetDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays > 0) return diffDays;
                if (diffDays === 0) return '0 (今天)';
                return '已過期';
            } catch (error) {
                console.error('计算天数错误:', error);
                return '日期错误';
            }
        }
        
        function truncateText(text, maxLength) {
            if (!text) return '';
            if (text.length <= maxLength) return text;
            return text.substring(0, maxLength) + '...';
        }
        
        // HTML转义函数
        function escapeHtml(text) {
            if (!text) return '';
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.toString().replace(/[&<>"']/g, function(m) { return map[m]; });
        }
        
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 加载学校数据
            loadSchoolsData();
            
            // 侧边栏切换
            const sidebarToggle = document.getElementById('sidebar-toggle');
            if (sidebarToggle) {
                sidebarToggle.addEventListener('click', function() {
                    document.querySelector('.sidebar').classList.toggle('collapsed');
                });
            }
            
            // 学校信息显示/隐藏切换
            const toggleSchoolInfoBtn = document.getElementById('toggle-school-info');
            if (toggleSchoolInfoBtn) {
                toggleSchoolInfoBtn.addEventListener('click', toggleSchoolInfo);
            }
            
            // 点击模態框外部关闭
            document.getElementById('answer-modal-overlay').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeAnswerModal();
                }
            });
            
            // ESC键关闭模態框
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeAnswerModal();
                }
            });
        });
    </script>
</body>
</html>
